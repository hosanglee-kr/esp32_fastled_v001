## 자동차 후방 로봇 눈 - MPU6050 기반 상황별 효과 요약

자동차 후방에 설치된 로봇 눈이 MPU6050 센서 데이터(수평 배치, X:좌우, Y:전후, Z:수직 방향 가정) 및 시간 정보를 활용하여 반응하는 상황과 그에 따른 적절한 눈 모양 효과 아이디어를 요약 정리합니다. 차량 신호 입력은 사용하지 않습니다.

**핵심:** MPU6050 데이터(가속도, 각속도)를 분석하여 차량의 물리적 상태 변화(정지, 움직임, 회전, 충격 등)를 추론하고, 이를 로봇 눈의 '감정' 또는 '상태 인지' 표현으로 연결합니다.

---

**차량 상태 추론 및 추천 효과 아이디어 요약:**

1.  **정지 상태 (시간 경과에 따라):**
    * **추론:** 가속도 및 자이로 센서 값이 장시간 매우 작을 때.
    * **추천 효과:**
        * **짧은 정지:** `E_NEUTRAL` (차분한 기본 눈).
        * **정지 시간이 길어짐:** 주기적인 `Blink` (깜빡임) 또는 `E_LOOK_LEFT`/`E_LOOK_RIGHT` 등 무작위 방향으로의 부드러운 `Look` (둘러보기) 애니메이션 - '가만히 있으니 심심하네, 주변 좀 볼까?'
        * **매우 긴 정지:** `E_SLEEPY` (졸린 눈) 또는 눈동자를 작게 만들어 '나른함' 또는 '대기 모드'를 표현.

2.  **차량 주행 중 (일반):**
    * **추론:** 정지, 회전, 급감속, 충격 상태가 아닐 때. (MPU6050만으론 정확한 속도 파악 및 단계 구분 어려움!)
    * **추천 효과:**
        * `E_NEUTRAL` 또는 `E_LOOK_UP` (약간 위를 보는) - '앞을 보고 가는 중' 또는 '집중'하는 모습.

3.  **강한 전진 가속 시:**
    * **추론:** 가속도 Y축 값이 갑자기 크게 양수(+)가 될 때.
    * **추천 효과:**
        * 눈동자를 중앙에 모으거나 약간 위로 향하게 (`E_LOOK_UP`) 하고, `E_SQUINT` (약하게)를 조합하여 '가속하며 나아간다'는 집중 또는 살짝 긴장한 모습 표현.

4.  **좌/우 회전 시:**
    * **추론:** 자이로 Z축(Yaw) 값이 특정 임계값 이상일 때 (부호로 방향 구분).
    * **추천 효과:**
        * 회전 방향에 맞춰 `E_LOOK_LEFT` 또는 `E_LOOK_RIGHT`.
        * **개선:** 회전 강성(자이로 Z 크기)이나 가속도 X축 값에 비례하여 눈동자 쏠림을 강하게 하거나, 살짝 눈을 찡그리는(`E_SQUINT` 약하게) 효과를 조합하여 '코너링 집중' 느낌 추가.

5.  **급감속 시:**
    * **추론:** 가속도 Y축 값이 갑자기 큰 음수(-)가 될 때.
    * **추천 효과:**
        * 갑자기 놀라거나 불쾌한 표정: `E_SQUINT_TIGHT` (강한 찡그림), `E_ANGRY` (화남), `E_ABSURD` (황당/놀람). '악!', '앗!' 같은 느낌의 순간적인 반응.
        * **개선:** 눈동자를 순간적으로 Y축 양수 방향(앞)으로 빠르게 움직였다가 돌아오는 애니메이션 추가.

6.  **갑작스러운 충격 또는 요철 통과 시 (급감속/회전 제외):**
    * **추론:** 다른 상태가 아닐 때 가속도 Z축 값의 급격한 변화 (수직 충격) 또는 X, Y축 값의 순간적 변화.
    * **추천 효과:** 예상치 못한 외부 요인에 대한 반응.
        * `E_ABSURD` (황당/놀람), `E_GLARING` (불쾌함), `E_SQUINT` (찡그림).
        * **개선:** 충격 방향 반대로 눈동자를 순간적으로 튀어나가게 하는 애니메이션 효과.

7.  **정지 상태에서의 기울어짐:**
    * **추론:** 차량 정지 상태에서 가속도 센서 X, Y 값을 이용한 Roll/Pitch 각도가 특정 임계값 이상일 때.
    * **추천 효과:**
        * 기울어진 방향 보기: `E_LOOK_UP`, `E_LOOK_DOWN`, `E_LOOK_LEFT`, `E_LOOK_RIGHT` 및 대각선 표정. - '차가 기울었네?' 하고 인지하는 모습.
        * **개선:** 기울기가 심할수록 눈동자 쏠림을 강하게 하거나, `E_SQUINT`를 약하게 조합하여 '균형 잡기 힘들다'는 느낌 표현.

8.  **후진 시:**
    * **추론:** **MPU6050 만으로는 신뢰성 있는 감지가 매우 어렵습니다.** 정지 후 Y축 가속도 패턴 등으로 추론 시도 가능하나 불안정합니다. (외부 신호 입력 권장)
    * **추천 효과:** (만약 추론 가능하거나 수동 트리거 시)
        * `E_CONFUSED` (혼란스러움), 좌우 `Look` 반복 - '주변 살핌', '조심' 느낌.
        * 경고성 패턴 (노란/주황 눈 깜빡임 등 커스텀) - '후진 중이니 주의!'

---

이러한 아이디어들을 상태 머신으로 구현하여, 차량의 움직임에 따라 로봇 눈이 다양한 표정으로 반응하게 함으로써 뒤따르는 사람들에게 단순 정보 전달을 넘어선 상호작용과 재미를 제공할 수 있습니다.
